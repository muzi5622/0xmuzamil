---
interface Props {
  headings: {
    depth: number;
    slug: string;
    text: string;
  }[];
}

const { headings } = Astro.props;
---

<nav class="toc">
  <div class="toc-title font-semibold mb-2">Table of Contents</div>
  <ul class="toc-list space-y-1">
    {
      headings.map((heading) => (
        <li
          class={`toc-item pl-${(heading.depth - 1) * 4} hover:text-accent transition-colors`}
        >
          <a href={`#${heading.slug}`} class="block py-1">
            {heading.text}
          </a>
        </li>
      ))
    }
  </ul>
</nav>

<style>
  .toc {
    @apply bg-muted px-4 py-3 rounded my-8;
  }
  .toc-list {
    @apply list-none;
  }
</style>